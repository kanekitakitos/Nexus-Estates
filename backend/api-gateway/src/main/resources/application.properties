spring.application.name=api-gateway
server.port=8080

# --- Rota User Service ---
# (Login/Register são públicos, mas o filtro gere isso no RouteValidator)
spring.cloud.gateway.routes[0].id=user-service
spring.cloud.gateway.routes[0].uri=http://localhost:8083
spring.cloud.gateway.routes[0].predicates[0]=Path=/api/users/**
# Aplicamos o filtro para endpoints protegidos de User (ex: /profile)
spring.cloud.gateway.routes[0].filters[0]=AuthenticationFilter

# --- Rota Property Service ---
spring.cloud.gateway.routes[1].id=property-service
spring.cloud.gateway.routes[1].uri=http://localhost:8082
spring.cloud.gateway.routes[1].predicates[0]=Path=/api/properties/**
# ESTA � A CHAVE: Ativar o nosso filtro customizado
spring.cloud.gateway.routes[1].filters[0]=AuthenticationFilter

# --- Rota Booking Service ---
spring.cloud.gateway.routes[2].id=booking-service
spring.cloud.gateway.routes[2].uri=http://localhost:8081
spring.cloud.gateway.routes[2].predicates[0]=Path=/api/bookings/**
spring.cloud.gateway.routes[2].filters[0]=AuthenticationFilter

# --- Rota Sync Service ---
spring.cloud.gateway.routes[3].id=sync-service
spring.cloud.gateway.routes[3].uri=http://localhost:8084
spring.cloud.gateway.routes[3].predicates[0]=Path=/api/sync/**
# O Sync também deve ser protegido
spring.cloud.gateway.routes[3].filters[0]=AuthenticationFilter

# Configuração JWT (User-Service)
jwt.secret=5367566B59703373367639792F423F4528482B4D6251655468576D5A71347437